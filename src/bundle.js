(()=>{"use strict";const t=document.getElementById("start-button"),e=document.getElementById("stop-button");let n;document.getElementById("transcript-content");const r=new class{constructor(){this.transcriptContainer=document.getElementById("transcript-content")}updateTranscript(t){if(!t)return;const e=this.transcriptContainer.lastElementChild;if(e&&e.textContent===t)return;const n=document.createElement("p");n.textContent=t,this.transcriptContainer.appendChild(n)}clearTranscript(){this.transcriptContainer.innerHTML=""}};let i=null;"webkitSpeechRecognition"in window?(n=new webkitSpeechRecognition,n.continuous=!0,n.interimResults=!0,n.onresult=t=>{let e="";for(let n=t.resultIndex;n<t.results.length;n++){const o=t.results[n];o.isFinal?(i&&(i.remove(),i=null),r.updateTranscript(o[0].transcript)):e+=o[0].transcript}e?(i||(i=document.createElement("p"),i.style.opacity="0.6",r.transcriptContainer.appendChild(i)),i.textContent=e):i&&(i.remove(),i=null)},n.onerror=t=>{console.error("Speech recognition error:",t.error)}):console.error("Speech recognition not supported in this browser."),t.addEventListener("click",(()=>{r.clearTranscript(),n.start(),t.disabled=!0,e.disabled=!1})),e.addEventListener("click",(()=>{n.stop(),t.disabled=!1,e.disabled=!0}))})();